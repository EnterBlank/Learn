### 1. 错误日志
- 作用：
>记录`mysqld`的启动和停止，以及服务器在运行过程中发生的任何严重错误时的相关信息。
- 设置：
>通过设置`--log-error[=file_name]`选项来保存错误日志文件的位置。如果没有给定`file_name`的值，mysqld使用错误日志名`host_name.err`(`host_name`为主机名)并默认在参数`DATADIR`指定目录中写入文件。

### 2. 二进制日志
- 作用：
>记录所有的DDL（数据定义语句）和DML（数据操纵语句）语句，但是不包括查询语句。
-设置：
>通过设置`--log-bin[=file_name]`选项来保存数据变更情况的日志文件。如果没有给定`file_name`的值，则会使用主机名加上`-bin`来作为文件名，如果给了文件名，但是没有包含路径，则会默认保存在参数`DATADIR`指定目录中写入文件。
- 日志格式类型:

   1. STATEMENT
   >`MySQL 5.1`之前采用的都是这种日志格式类型。每一条对数据造成修改的语句都会存储在日志中。在主从复制中，从库会将日志文件解析成原文本，再执行一边来达到同步的效果。该格式类型的有点是，记录数少，清晰易读，对`I/O`的影响小，但是有时候容易导致从库的复制错误。
   2. ROW
   >这种日志格式是将每一行的数据改变记录在日志中，不记录SQL语句。简单来说，如果执行`update emp set name = 'abc'`语句，如果表里面有`1W`条记录，则在日志文件中会保存`1W`的数据变化情况。日志量大大增加，但是不会导致数据无法复制的情况。其缺点就是日志量大，对`I/O`影响巨大。
   3. MIXED
   >现在默认使用的日志格式类型。它是`STATEMENT`和`ROW`的两种格式类型的结合。默认情况下才用`STATEMENT`来记录，特殊情况使用`ROW`来记录。

- 日志读取
>日志是通过二进制文件储存的，所以如果要查看日志的话，要通过`mysqlbinlog`工具来查看。语法如下：`mysqlbinlog log-file`。如果日志是`ROW`格式的话，解析后可能是一串乱码，可以通过`-v`或者`-vv`参数来读取。
- 日志删除
  1. 方法 1
  >执行`RESET MASTER;`命令，该命令会删除所有的`BINLOG`日志文件，新日志编号从`000001`开始。
  2. 方法 2
  >执行`PURGE MASTER LOGS TO 'mysql-bin.******'`命令，该命令将删除所有编号在`******`编号之前的日志文件。
  3. 方法3
  >执行`PURGE MASTER LOGS BEFORE 'yyyy-mm-dd hh24:mi:ss'`命令，该命令会删除所有日期为`yyyy-mm-dd hh24:mi:ss`之前的日志。
  4. 方法4
  >通过在`my.cnf`配置文件中,添加`expire_logs_day = days`参数（days为过期天数），当日志达到过期时间后，系统会自动删除过期日志。
- 其他选项
>`--binlog-do-db=db_name`该选项告诉主服务器，如果当前数据库是`db_name`则将更新记录到二进制文件中。而其他没有显式指定的数据库将不会写入二进制文件中。`--binlog-ignore-db=db_name`这个选项与上面的选项正好相反，是没有显式指定的数据库会将更新写进二进制文件，显式指定的则忽略。
### 3. 查询日志
- 作用：
>记录客户端的所有查询语句。
- 设置：
>通过参数`--general-log[={0|1}]`和`--general_log_file=file_name`来进行控制，前者是是否启用查询日志，后者是查询日志的保存位置。当没有显式指定查询日志的保存位置时，将默认保存在参数`DATADIR`指定目录中，文件名为`host_name.log`。其次可以通过`--log-output[=value,...]`来选择查询日志的保存类型，总共有三种状态分别为：`TABLE、FILE和NONE`。`TABLE`是将数据保存在表当中，`FILE`是保存在文件中，而`NONE`是不保存在表和文件中，优先级最高。在`NONE`存在的情况下，将不会保存在表和文件中，一般来说保存在文件中比保存在表中效率高。默认文件名是`host_name-slow.log`。
### 4. 慢查询日志
- 作用：
>记录所有时间超过参数`long_query_time`设置的值并且扫描记录超过`min_examined_row_limit`的所有SQL语句的日志。其中`long_query_time`默认值为`10s`。
- 设置：
>慢查询日志默认是关闭的。在`MySQL5.1.29`之后，通过`--slow_query_log[={0|1}]`来设置是否启用查询日志，以及通过`--slow_query_log_file[=file_name]`来指定慢查询日志的保存日志。同查询日志一样，可以通过`--log-output[=value,...]`来选择查询日志的保存类型。同时要注意，如果保存在表中，表中记录的慢查询时间只能精确到`秒`，而记录在文件中，可以精确到`微秒`。
- 注意：
>一般有两类语句不会记录在慢查询日志中，分别是`管理语句`和`不使用索引进行查询的语句`。管理语句包括`ALTER TABLE、ANALYZE TABLE、CHECK TABLE、CREATE INDEX、DROP INDEX、OPTIMIZE TABLE`和`REPAIR TABLE`。
- 读取：
>文件可直接通过`more filename`或者`mysqldumpslow filename`来查看。表则需要查询`slow_log`看查看。




